
# Приложение для Суммаризации Текста и Документов на базе LlamaCpp

## Описание проекта

Данное приложение предоставляет возможность автоматически суммировать текстовые данные, такие как введенные пользователем фрагменты текста или загруженные документы. На основе библиотеки `LlamaCpp` и модели Llama-3.2, приложение поддерживает различные стили и степени суммаризации для генерации компактных и содержательных текстов. 

Интерфейс приложения мультимодален: на данный момент разработаны две версии - сайт и мобильное приложение. Сайт разработан с использованием `Streamlit` для удобства взаимодействия, а встроенная функция автослияния текстовых блоков предотвращает потерю смысла при суммаризации крупных документов. Мобильное приложение разработано на языке `Kotlin`.

## Основные компоненты

### Классы и Функции

- **TextSummarizerApp** — основной класс приложения, содержащий весь функционал для суммаризации текста и документов. 

- **Инициализация модели LlamaCpp** — приложение использует модель Llama-3.2, которая оптимизирована для суммаризации текста и создания академических, креативных и кратких резюме.

- **Функция `summarize_text`** — выполняет разбивку текста на блоки, их объединение и суммаризацию на основе выбранных параметров. Функция автоматически настраивает текстовые блоки в зависимости от ограничения по токенам.

- **Функция `merge_chunks`** — объединяет близкие по смыслу и объему блоки текста, что позволяет избежать избыточной информации при суммаризации.

- **Функция `summarize_documents`** — выполняет суммаризацию текста загруженных файлов, поддерживая форматы `PDF`, `DOCX`, и `TXT`. Извлечение текста происходит с использованием специализированных загрузчиков для каждого формата.

### Пользовательский интерфейс

Приложение построено на `Streamlit` и имеет удобный боковой интерфейс с меню, через которое можно выбрать:
- **Сокращение текста** — ввод текста вручную для суммаризации.
- **Сокращение документов** — загрузка файлов для обработки.

Пользователь также может выбрать **стиль** суммаризации (креативный, академический, обычный) и **уровень** (сильное или слабое сокращение), которые влияют на длину и характер итогового текста.

## Установка

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/VysockovEgor/AiFina/Stage_2
   cd AiFina
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Убедитесь, что модель Llama-3.2 установлена и доступна по пути, указанному в коде.

## Запуск

Для запуска приложения используйте команду:
```bash
streamlit run main.py --theme.base="light" --theme.primaryColor="#1fb51f"
```

## Примеры использования

### Сокращение текста

1. Введите текст в поле для ввода.
2. Выберите уровень суммаризации (сильное или слабое) и стиль текста (креативный, академический или обычный).
3. Нажмите кнопку "Сократить текст" для запуска процесса.

### Сокращение документов

1. Загрузите файлы форматов `PDF`, `DOCX` или `TXT`.
2. Выберите уровень и стиль суммаризации.
3. Нажмите кнопку "Сократить документы" для получения суммаризированного текста.

## Требования к окружению

- Python 3.7+
- Streamlit
- Langchain
- LlamaCpp
- Suny
## Зависимости
Файл `requirements.txt` содержит список всех необходимых библиотек для установки и запуска приложения. 
### Тесты
Все тесты приложения доступны по ссылке:
https://disk.yandex.ru/client/disk/AiFina
