# Приложение для чтения книг с AI-ассистентом **AiFina**. Техническое описание проекта

*Общее описание AiFina находится в [данной презентации](https://www.figma.com/deck/vtVgdzGppGvEGOwhwBUyDw/%D0%BF%D1%80%D0%B5%D0%B7%D0%B5%D0%BD%D1%82%D0%B0%D1%86%D0%B8%D1%8F?t=P7UL6SMflo3EppPO-1&scaling=min-zoom&content-scaling=fixed&page-id=0%3A1&node-id=44-260).*

*По этой [ссылке](https://disk.yandex.ru/i/JWi_DLuLnrvPrg) можно посмотреть демонстрационный видеоролик работы телеграмм-бота.*

## Основные компоненты

### Файлы с кодом

- `NoPunc.py` — позволяет обрабатывать текст на русском языке. 

- `files_reader.py` — тут содержатся функции, которые конвертируют pdf и docx файлы в текст и отправляет на обработку языковой модели (класс Chatbot), конвертируют текст обратно в pdf и docx файлы. 

- `giga_chat.py` — тут инициализируется API GigChat, создаётся ***класс Chatbot***, в котором находятся функции, отвечающие за суммаризацию текста. 

- `kandinsk.py` — тут инициализируется API Kandinsky, создаётся ***класс Text2ImageAPI***, в котором находятся функции, отвечающие за создание иллюстраций. 

- `textSpeach.py` — тут инициализируется API SaluteSpeachBot, также здесь находятся функции, отвечающие за озвучку текста. 

- `parsing.py` — здесь находятся функции, отвечающие за сбор с сайтов (парсинг) литературных произведений. 

- `bot.py` — здесь находится код, отвечающий за работу телеграмм-бота, также тут вызываются все функции из выше пречисленных файлов. 

- `bot.py` — здесь находится код, отвечающий за работу телеграмм-бота, также тут вызываются все функции из выше пречисленных файлов. 

### Остальные файлы

- `chat_history.db` — история всех запросов к телеграмм-боту.

- `Helvetica.ttf` — шрифт для записи текста в pdf-файл.

- `p.gif` — данная гифка будет проигрываться, пока загружается иллюстрация к тексту.

- `requirements.txt` — список библиотек, необходимых для локального запуска телеграмм-бота.

### Пользовательский интерфейс

Приложение представляет собой телеграмм-бота и имеет меню, через которое можно выбрать:
- **Настройка сокращение текста** — ввод параметров сжатия, типа ввода и вывода.
- **Отправка текста**
- **Вопрос по тексту** - можно задать вопрос по прочитанному тексту, если что-то непонятно.

## Запуск

Для того чтобы начать работать с AiFina перейдите по этой [ссылке](https://t.me/aifina_bot)

## Локальный запуск

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/VysockovEgor/AiFina
   cd AiFina
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

3. Убедитесь, что модель Llama-3.2 установлена и доступна по пути, указанному в коде.

4. Используйте команду:
```bash
python bot.py
```

## Требования к окружению

- Python 3.7+
- Langchain
- LlamaCpp


